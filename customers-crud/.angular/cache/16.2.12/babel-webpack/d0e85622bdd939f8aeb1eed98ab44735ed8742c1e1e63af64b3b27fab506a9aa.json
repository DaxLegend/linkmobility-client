{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CustomersComponent = class CustomersComponent {\n  constructor(http_requests_service) {\n    this.http_requests_service = http_requests_service;\n    this.customers = [];\n    this.loading = true;\n    this.subs = [];\n    this.getCustomers(1, 24);\n  }\n  ngOnDestroy() {\n    this.subs.forEach(sub => {\n      sub.unsubscribe();\n    });\n    this.subs = [];\n  }\n  filterTable() {}\n  pageChange(event) {\n    this.loading = true;\n    const timeout = setTimeout(() => {\n      const currentPage = event.first / event.rows + 1;\n      this.getCustomers(currentPage, event.rows);\n      clearTimeout(timeout);\n    }, 1000);\n  }\n  addCustomerPopup() {}\n  editCustomerPopup() {}\n  deleteCustomer() {\n    this.subs.push(this.http_requests_service.deleteCustomer(this.selectedCustomer.id).subscribe({\n      next: value => {\n        this.customers = [];\n        this.getCustomers(1, 24);\n        this.loading = false;\n      },\n      error: err => {\n        console.error(err);\n        this.loading = false;\n      }\n    }));\n  }\n  viewInvoicesPopup() {}\n  selectCustomer(event) {\n    console.log(event);\n  }\n  getCustomers(from, rows) {\n    this.customers = [];\n    this.subs.push(this.http_requests_service.getCustomers(from, rows).subscribe({\n      next: values => {\n        values.customers?.forEach(value => {\n          this.customers.push(value);\n        });\n        this.totalRows = values.total;\n        this.loading = false;\n        if (!this.loadTable) this.loadTable = true;\n      },\n      error: err => {\n        console.error(err);\n        this.loading = false;\n      }\n    }));\n  }\n};\nCustomersComponent = __decorate([Component({\n  selector: 'app-customers',\n  templateUrl: './customers.component.html',\n  styleUrls: ['./customers.component.scss']\n})], CustomersComponent);\nexport { CustomersComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}